/*! frames (v0.1.1),
 Front-end framework,
 by Sasha Koss <kossnocorp@gmail.com>
 Mon Jul 14 2014 */
(function(){var t;t=function(){function t(){}return t.registerLauncher=function(t){return this.__launcher=new t},t.hook=function(t,e){if(!this.__launcher)throw"Launcher is not registered";return this.__launcher.hook(t,e)},t.start=function(){var t,e,r,n;if(this.factories){r=this.factories,n=[];for(e in r)t=r[e],n.push(t.create());return n}},t.stop=function(){var t,e,r,n;if(this.factories){r=this.factories,n=[];for(e in r)t=r[e],n.push(t.destroy());return n}},t.registerFactory=function(t,e){var r;return null==this.factoryCounter&&(this.factoryCounter=0),null==this.factories&&(this.factories={}),r=e||"factory_"+this.factoryCounter++,this.factories[r]=t,r},t["export"]=function(t,e){return"undefined"!=typeof modula&&null!==modula?modula["export"](t,e):this.__exportToWindow(t,e)},t.__exportToWindow=function(t,e){var r,n;return r=t.split("/"),n=r.pop(),this.__getOrCreateNamespacePath(r)[this.__classify(n)]=e},t.__getOrCreateNamespacePath=function(t){return t.reduce(this.__getOrCreateNamespaceChunk.bind(this),window)},t.__getOrCreateNamespaceChunk=function(t,e){var r;return null!=t[r=this.__classify(e)]?t[r]:t[r]={}},t.__classify=function(t){return t.camelize()},t}(),t["export"]("frames",t)}).call(this),function(){var t,e,r,n,i,o,s,u=[].slice;for(e=window.Frames||require("frames"),t=window.Echo,r="debug info warn error".split(" "),n={included:function(e){return null==this.echo&&(this.echo=t()),e.extend(this)},log:function(t,e){return null==e&&(e={}),this.logger(t,e)},logger:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],n.echo.apply(n,t)}},o=0,s=r.length;s>o;o++)i=r[o],n[i]=function(t,e){return this.log(t,Object.extended(e).clone().merge({level:i}))};e["export"]("frames/logger_module",n)}.call(this),function(){var t,e,r,n,i,o,s,u;for(r=window.Frames||require("frames"),n=r.LoggerModule||require("frames/logger_module"),t=window.Backbone,e=function(){function t(){}return t.include=function(t){return Object.merge(this.prototype,Object.reject(t,"included","extended")),t.included?t.included(this):void 0},t.extend=function(t){return Object.merge(this,Object.reject(t,"included","extended")),t.extended?t.extended(this):void 0},t.attr=function(t,e){return null==e&&(e={}),this.attrReader(t,e),this.attrWriter(t,e)},t.attrReader=function(t,e){var r;return null==e&&(e={}),r=this.__privateNameFor(t),this.prototype[this.__getterNameFor(t,e)]=function(){return this[r]}},t.attrWriter=function(t,e){var r;return null==e&&(e={}),r=this.__privateNameFor(t),this.prototype[this.__setterNameFor(t,e)]=function(t){return this[r]=t},e.boolean&&(e["true"]&&(this.prototype[e["true"]]=function(){return this[r]=!0}),e["false"])?this.prototype[e["false"]]=function(){return this[r]=!1}:void 0},t.patch=function(t){return Object.merge(t,this),Object.merge(t.prototype,this.prototype)},t.__getterNameFor=function(t,e){return null==e&&(e={}),e.getter||this.__fnName(t,{prefix:e.boolean?"is":"get"})},t.__setterNameFor=function(t,e){return null==e&&(e={}),e.setter||this.__fnName(t,{prefix:"set"})},t.__privateNameFor=function(t){return"__"+t},t.__fnName=function(t,e){var r;return null==e&&(e={}),r=[],e.prefix&&r.push(e.prefix),r.push(t),r.join("_").camelize(!1)},t.include(n),t}(),u="View Model Collection Router".split(" "),o=0,s=u.length;s>o;o++)i=u[o],e.patch(t[i]);r["export"]("frames/class",e)}.call(this),function(){var t,e;t=window.Frames||require("frames"),e=function(){function t(t,e){var r,n,i,o;if(null==t&&(t=null),null==e&&(e={}),null==this.states&&(this.states=[]),null!=e.states)for(o=e.states,n=0,i=o.length;i>n;n++)r=o[n],this.states.push(r);null!=e.events&&(this.events=e.events),null!=t&&(this.states.push(t),this["default"]=t),this.__rules={},this.__defineEvents(),this.__forceSet(this.__default())}return t.prototype.get=function(){return this.__state},t.prototype.set=function(t){var e;if(!this.__isStateDefined(t))throw"No such state '"+t+"'";if(!this.__isTransitionAllowed(t))throw"Transition from '"+this.get()+"' to '"+t+"' is not allowed";return e=this.__callbackFor(t),"function"==typeof e&&e(this.get(),t),this.__state=t},t.prototype.reset=function(){return"function"==typeof this.onReset&&this.onReset(this.get(),this.__default()),this.__forceSet(this.__default())},t.prototype.availableStates=function(){return this.states},t.prototype.__forceSet=function(t){this.__state=t},t.prototype.__default=function(){return this["default"]||this.states[0]},t.prototype.__defineEvents=function(){var t,e,r,n;r=this.events,n=[];for(t in r)e=r[t],n.push(this.__defineEvent(t,e));return n},t.prototype.__defineEvent=function(t,e){return this.__applyRules(t,e),this[t]=function(){return this.set(e.to)}},t.prototype.__applyRules=function(t,e){var r,n,i,o,s,u;for(r="object"==typeof e.from?e.from:[e.from],u=[],o=0,s=r.length;s>o;o++)n=r[o],null==(i=this.__rules)[n]&&(i[n]=[]),u.push(this.__rules[n].push(e.to));return u},t.prototype.__isStateDefined=function(t){return-1!==this.states.indexOf(t)},t.prototype.__isTransitionAllowed=function(t){var e;return e=this.__rules[this.get()],e&&-1!==e.indexOf(t)},t.prototype.__callbackFor=function(t){var e;return e=("on_"+t).camelize(!1),this[e]},t}(),t["export"]("frames/state",e)}.call(this),function(){var t,e,r,n,i,o,s={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=window.Frames||require("frames"),t=(null!=(i=window.Frames)?i.Class:void 0)||require("frames/class"),n=(null!=(o=window.Frames)?o.State:void 0)||require("frames/state"),r=function(t){function r(){var t,r;this.__hooks={},this.__passedStages=["loaded"],t={setReady:{from:"loaded",to:"ready"},setCreated:{from:"ready",to:"created"}},r=["loaded","ready","created"],this.stage=new n("loaded",{states:r,events:t}),this.stage.onReady=this.__stageTransition("ready",function(t){return function(){return e.start(),setTimeout(function(){return t.stage.setCreated()},0)}}(this)),this.stage.onCreated=this.__stageTransition("created"),this.__bindReady(this.setReady.bind(this))}return u(r,t),r.prototype.reset=function(){return this.__passedStages=["loaded"],this.stage.reset()},r.prototype.setReady=function(){return this.stage.setReady()},r.prototype.getStage=function(){return this.stage.get()},r.prototype.hook=function(t,e){var r;return null==(r=this.__hooks)[t]&&(r[t]=[]),this.__hooks[t].push(e),-1!==this.__passedStages.indexOf(t)?this.__call(e):void 0},r.prototype.__bindReady=function(t){return $(t)},r.prototype.__stageTransition=function(t,e){return function(r){return function(){return r.__passedStages.push(t),r.__callStage(t),"function"==typeof e?e():void 0}}(this)},r.prototype.__callStage=function(t){var e,r,n,i,o;if(this.__hooks[t]){for(i=this.__hooks[t],o=[],r=0,n=i.length;n>r;r++)e=i[r],o.push(this.__call(e));return o}},r.prototype.__call=function(t){return setTimeout(t,0)},r}(t),e.registerLauncher(r),e["export"]("frames/launcher",r)}.call(this),function(){var t,e,r,n,i,o={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r=window.Frames||require("frames"),e=(null!=(i=window.Frames)?i.Class:void 0)||require("frames/class"),t=window.Backbone,n=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}var n;return s(r,e),n="[data-router]",r.create=function(){var e,r,n,i;return i=this.detectRouter(),i&&(n=i.camelize()+"Router",e=window[n])?(r=new e,$("body").data({router:r}),t.history.start(),this.router=r):void 0},r.destroy=function(){return $("body").removeData("router"),t.history.stop()},r.detectRouter=function(){var t;return t=this.routers(),t.length>1&&this.warn("There are more than one router, all except first will be ignored."),t[0]},r.routers=function(){var t,e;return e=$("body"),t=e.find(n).add(e.filter(n)),t.map(function(){return $(this).data("router")}).toArray()},r}(e),r.registerFactory(n,"routers"),r["export"]("frames/routers_factory",n)}.call(this),function(){var t,e,r,n,i={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=window.Frames||require("frames"),t=(null!=(n=window.Frames)?n.Class:void 0)||require("frames/class"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}var r,n,i,s;return o(e,t),n="[data-view]",r="body",i=/\s/,s=/(.+)#(.+)/,e.create=function(t,e){return null==t&&(t=$(r)),null==e&&(e=!0),this.$viewEls(t,e).each(function(t){return function(e,r){return t.createViewsForEl($(r))}}(this))},e.createViewsForEl=function(t){var e,r,n,o,s,u,a,c;for(e=$(t),e.data("created-views")||e.data("created-views",{}),s=e.data("view").split(i),c=[],u=0,a=s.length;a>u;u++)r=s[u],o=this.expandViewPath(r),e.data("created-views")[o]?c.push(void 0):(n=this.initializeView(o,{el:e}),c.push(e.data("created-views")[o]=n));return c},e.destroy=function(t,e){return null==t&&(t=$(r)),null==e&&(e=!0),this.$viewEls(t,e).each(function(t){return function(e,r){return t.destroyViewsForEl($(r))}}(this))},e.destroyViewsForEl=function(t){var e,r,n,i;if(e=$(t),r=e.data("created-views")){for(i in r)n=r[i],n.remove();return e.removeData("created-views")}},e.expandViewPath=function(t){return s.test(t)?t:"shared#"+t},e.initializeView=function(t,e){var r;return r=this.getViewClass(t),r?new r(e):void 0},e.getViewClass=function(t){var e,r,n,i,o,u,a,c;return c=t.match(s),a=c[0],i=c[1],u=c[2],n=this.getComponentClassName(i),o=this.getViewClassName(u),e=window[n],e&&(r=e[o])?r:void 0},e.getComponentClassName=function(t){return t?t.camelize()+"Component":void 0},e.getViewClassName=function(t){return t&&t?t.camelize()+"View":void 0},e.$viewEls=function(t,e){var r;return null==e&&(e=!0),r=t.find(n),e?r.add(t.filter(n)):r},e}(t),e.registerFactory(r,"views"),e["export"]("frames/views_factory",r)}.call(this),function(){var t,e;t=window.Frames||require("frames"),e={included:function(t){return t.addToConfigureChain("buildQueryFunctions")},buildQueryFunctions:function(){var t,e,r,n;if(this.els){r=this.els,n=[];for(e in r)t=r[e],n.push(function(t){return function(e,r){var n,i,o,s,u,a;return a=r.match(/^(cached)?\s?(.+)/),u=a[0],i=a[1],s=a[2],i?(o="__"+e,n=(""+e+"_drop").camelize(),t[e]=function(){return this[o]||(this[o]=this.$(s))},t[n]=function(){return this[o]=void 0}):t[e]=function(){return this.$(s)}}}(this)(e,t));return n}}},t["export"]("frames/jquery_query_module",e)}.call(this),function(){var t,e;t=window.Frames||require("frames"),e={included:function(t){return this.broker=new Noted.Broker,t.addToConfigureChain("createEmitterAndReceiver")},createEmitterAndReceiver:function(){return this.broker=e.broker,this.emitter=new Noted.Emitter(this.broker,this),this.receiver=new Noted.Receiver(this.broker,this)},emit:function(t,e,r){return this.emitter.emit(t,e,r)},listen:function(t,e,r){return this.receiver.listen(t,e,r)},unsubscribe:function(t,e){return this.broker.unsubscribe(t,e,this)}},t["export"]("frames/pub_sub_module",e)}.call(this),function(){var t,e,r,n={}.hasOwnProperty,i=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=window.Frames||require("frames"),t=window.Backbone,r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e}(t.Model),e["export"]("frames/model",r)}.call(this),function(){var t,e,r,n={}.hasOwnProperty,i=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=window.Frames||require("frames"),t=window.Backbone,r=function(r){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,r),n.prototype._bindRoutes=function(){return this.createEmitterAndReceiver(),t.Router.prototype._bindRoutes.call(this)},n.prototype.createEmitterAndReceiver=function(){return this.broker=e.PubSubModule.broker,this.emitter=new Noted.Emitter(this.broker,this),this.receiver=new Noted.Receiver(this.broker,this)},n.prototype.emit=function(t,e,r){return this.emitter.emit(t,e,r)},n.prototype.listen=function(t,e,r){return this.receiver.listen(t,e,r)},n.prototype.unsubscribe=function(t,e){return this.broker.unsubscribe(t,e,this)},n}(t.Router),e["export"]("frames/router",r)}.call(this),function(){var t,e,r,n,i,o,s={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=window.Frames||require("frames"),n=e.PubSubModule||require("frames/pub_sub_module"),r=e.JqueryQueryModule||require("frames/jquery_query_module"),t=window.Backbone,o=t.View.prototype.remove,i=function(t){function e(t){var r,n,i,o;if(r=this.constructor.configureChain)for(i=0,o=r.length;o>i;i++)n=r[i],this[n].call(this,t);e.__super__.constructor.apply(this,arguments)}return u(e,t),e.addToConfigureChain=function(t){return null==this.configureChain&&(this.configureChain=[]),this.configureChain.push(t)},e.addToRemoveChain=function(t){return null==this.removeChain&&(this.removeChain=[]),this.removeChain.push(t)},e.include(n),e.include(r),e.prototype.remove=function(){var t,e,r,n;if(e=this.constructor.removeChain)for(r=0,n=e.length;n>r;r++)t=e[r],this[t].call(this);return o.call(this)},e}(t.View),e["export"]("frames/view",i)}.call(this),function(){var t,e,r,n={}.hasOwnProperty,i=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};t=window.Frames||require("frames"),e=t.Model||require("frames/model"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e}(e),t["export"]("frames/view_model",r)}.call(this);